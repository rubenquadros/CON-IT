<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>CON-IT</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/hero-slider-style.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/tooplate-style.css">


    <!-- load JS files -->
    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/tether.min.js"></script>                
    <script src="js/isInViewport.min.js"></script>          
    <script src="js/bootstrap.min.js"></script>             
    <script src="js/hero-slider-main.js"></script>          
    <script src="js/jquery.magnific-popup.min.js"></script>

    <script src="js/fb_4.6.2_firebase-app.js"></script>
    <script src="js/fb_4.6.2_firebase-auth.js"></script>
    <script src="js/fb_4.6.2_firebase-database.js"></script>
    <script src="js/registerUser.js"></script>
    <script src="js/loginValidation.js"></script>

</head>

<body>

<div class="cd-bg-video-wrapper" data-video="video/bangkok-city">
</div> 
<!-- Content -->
<div class="cd-hero">

    <!-- Navigation -->
    <div class="cd-slider-nav">
        <div class="container">
            <nav class="navbar">
                <div class="tm-navbar-bg">
                    <a class="navbar-brand text-uppercase" href="#">CON-IT</a>
                    <button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse" data-target="#tmNavbar">
                        &#9776;
                    </button>
                    <div class="collapse navbar-toggleable-md text-xs-center text-uppercase tm-navbar" id="tmNavbar">
                        <ul class="nav navbar-nav">
                            <li class="nav-item active selected">
                                <a class="nav-link" href="#0" data-no="1">Home <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#0" data-no="2">Login</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#0" data-no="3">Register</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <ul class="cd-hero-slider">  
        <!-- Page 1 Home -->
        <li class="selected">
            <div class="cd-full-width">
                <div class="container js-tm-page-content tm-page-1 tm-section-margin-t-small" data-page-no="1">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="tm-home-container-outer">
                                <div class="tm-home-container">
                                    <div class="tm-home-title-container">
                                        <h2 class="tm-text-title text-xs-center tm-home-title">Welcome to CON-IT!</h2>
                                    </div>
                                    <div class="tm-home-description-container tm-bg-dark-blue">
                                        <div class="text-xs-left tm-textbox">
                                            <p class="tm-text tm-home-description">CON-IT is an android application which allows the users to easily know about the offers. The offers given
                                                to a user are very much user specific which are generated on the basis of his purchasing, route taken, time spent at particular location and
                                                frequency of visits.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tm-home-container-bg"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </li>

        <!-- Page 2 Login -->
        <li>
            <div class="cd-full-width">
                <div class="container js-tm-page-content tm-section-margin-t" data-page-no="2">
                    <form method="post" class="tm-contact-form" id ="loginForm">
                        <input type="email" id="user_email" name="Email" class="form-control" placeholder="E-Mail"  required/>
                        <br/><br/>
                        <input type="password" id="user_pass" name="Password" class="form-control" placeholder="Password"  required>
                        <br/>
                        <div style="text-align: center">
                            <button type="button" id = "loginButton" class="tm-submit-btn" onClick="validate()">LOGIN</button>
                        </div>
                    </form>
                </div>
            </div>

        </li>

        <!-- Page 3 Registration -->
        <li>
            <div class="cd-full-width">
                <div class="container js-tm-page-content tm-section-margin-t" data-page-no="3">
                    <form method="post" class="tm-contact-form" id ="RegForm">
                        <input type="text" id="org_name" name="Organisation" class="form-control" placeholder="Brand Name"  required/>
                        <br/><br/>
                        <input type="email" id="cust_email" name="Password" class="form-control" placeholder="E-Mail"  required>
                        <br/><br/>
                        <input type="text" id="mob_no" name="Mobile" class="form-control" placeholder="Mobile Number"  required/>
                        <br/><br/>
                        <input type="password" id="cust_pass" name="Password" class="form-control" placeholder="Password"  required>
                        <br/><br/>
                        <input type="password" id="conf_pass" name="ConfirmPass" class="form-control" placeholder="Confirm Password"  required/>
                        <br/>
                        <div style="text-align: center">
                            <button type="button" id = "regButton" class="tm-submit-btn" onclick="register()">REGISTER</button>
                        </div>
                    </form>

                </div> 

            </div>

        </li>
    </ul> 

    <footer class="tm-footer">
        <p class="tm-copyright-text pull-xs-right">Copyright &copy; <span class="tm-current-year">2017</span> CON-IT</p>
    </footer>
</div> 

<div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
</div>
<script>

    function adjustHeightOfPage(pageNo) {

        var offset = 80;
        var pageContentHeight = $(".cd-hero-slider li:nth-of-type(" + pageNo + ") .js-tm-page-content").height();

        if($(window).width() >= 992) { offset = 120; }
        else if($(window).width() < 480) { offset = 40; }

        // Get the page height
        var totalPageHeight = 335 + $('.cd-slider-nav').height()
            + pageContentHeight + offset
            + $('.tm-footer').height();

        // Adjust layout based on page height and window height
        if(totalPageHeight > $(window).height())
        {
            $('.cd-hero-slider').addClass('small-screen');
            $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", totalPageHeight + "px");
        }
        else
        {
            $('.cd-hero-slider').removeClass('small-screen');
            $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", "100%");
        }
    }

    function uploadVideo() {

        var videoWrapper = $('.cd-bg-video-wrapper');
        if( videoWrapper.is(':visible') ) {
            // if visible - we are not on a mobile device
            var videoUrl = videoWrapper.data('video'),

                video = $('<video autoplay loop><source src="'+videoUrl+'.mp4" type="video/mp4" /></video>');
            video.appendTo(videoWrapper);

            // play video if first slide
            if(videoWrapper.parent('.cd-bg-video.selected').length > 0) video.get(0).play();
        }
    }

    // Everything is loaded including images.
    $(window).load(function(){

        adjustHeightOfPage(1); // Adjust page height

        // Background Video
        if($( window ).width() > 800) {
            uploadVideo();
        }

        /* Gallery One pop up
         -----------------------------------------*/
        $('.gallery-first').magnificPopup({
            delegate: 'a', // child items selector, by clicking on it popup will open
            type: 'image',
            gallery:{enabled:true}
        });

        /* Gallery Two pop up
         -----------------------------------------*/
        $('.gallery-second').magnificPopup({
            delegate: 'a', // child items selector, by clicking on it popup will open
            type: 'image',
            gallery:{enabled:true}
        });

        /* Collapse menu after click
         -----------------------------------------*/
        $('#tmNavbar a').click(function(){
            $('#tmNavbar').collapse('hide');

            adjustHeightOfPage($(this).data("no")); // Adjust page height
        });

        /* Browser resized
         -----------------------------------------*/
        $( window ).resize(function() {
            var currentPageNo = $(".cd-hero-slider li.selected .js-tm-page-content").data("page-no");

            // wait 3 seconds
            setTimeout(function() {
                adjustHeightOfPage( currentPageNo );
            }, 3000);

            if($( window ).width() > 800) {
                uploadVideo();
            }

        });

        // Play video only when visible
        // https://stackoverflow.com/questions/21163756/html5-and-javascript-to-play-videos-only-when-visible
        $('video').each(function(){
            if ($(this).is(":in-viewport")) {
                $(this)[0].play();
            } else {
                $(this)[0].pause();
            }
        })

        // Remove preloader (https://ihatetomatoes.net/create-custom-preloading-screen/)
        $('body').addClass('loaded');
        $('.tm-current-year').text(new Date().getFullYear());

    });

</script>




</body>
</html>

